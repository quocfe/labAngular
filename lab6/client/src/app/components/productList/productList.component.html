<app-header></app-header>
<body class="antialiased font-sans bg-gray-200">
  <div class="px-4 sm:px-8 flex h-screen">
    <div class="py-8 flex flex-col items-center flex-1 w-full">
      <div class="my-2 flex sm:flex-row flex-col w-80">
        <div class="block relative w-full">
          <span class="h-full absolute inset-y-0 left-0 flex items-center pl-2">
            <svg viewBox="0 0 24 24" class="h-4 w-4 fill-current text-gray-500">
              <path
                d="M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"
              ></path>
            </svg>
          </span>
          <input
            placeholder="Search"
            class="appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"
          />
        </div>
      </div>
      <div class="flex items-center space-x-2">
        <span class="text-3xl"><i class="bx bx-check"></i></span>
      </div>
      <div class="sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto w-full">
        <div class="inline-block hadow rounded-lg overflow-hidden w-full">
          <table class="w-full leading-normal">
            <thead>
              <tr>
                <th
                  class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"
                >
                  #
                </th>
                <th
                  class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"
                >
                  Title
                </th>
                <th
                  class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"
                >
                  Content
                </th>

                <th
                  class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"
                ></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let blog of listBlog; let i = index">
                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                  {{ i + 1 }}
                </td>
                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                  {{ blog.title || "null" }}
                </td>
                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                  {{ blog.content || "null" }}
                </td>
                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                  <button
                    (click)="onEdit(blog)"
                    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2"
                  >
                    Edit
                  </button>
                  <button
                    (click)="onDelete(blog._id)"
                    class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
                  >
                    Delete
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="p-3 w-96">
      <h3>Thêm - sửa bài viết</h3>
      <form #blogForm="ngForm" class="mt-5" (ngSubmit)="addorupdate(isEdit)">
        <div class="mb-5">
          <label
            for="title"
            class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
            >Title</label
          >
          <input
            type="text"
            id="title"
            name="title"
            class="block w-full p-4 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 sm:text-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            placeholder="Title"
            [(ngModel)]="blog.title"
          />
        </div>
        <div class="mb-5">
          <label
            for="content"
            class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
            >Content</label
          >
          <textarea
            id="content"
            rows="4"
            name="content"
            class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            placeholder="Write your content here..."
            [(ngModel)]="blog.content"
          ></textarea>
        </div>

        <button
          type="submit"
          class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mr-2"
        >
          {{ isEdit ? "Update" : "Add" }}
        </button>

        <button
          *ngIf="isEdit"
          (click)="onCancel()"
          class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
        >
          Cacel
        </button>
      </form>
    </div>
  </div>
</body>
